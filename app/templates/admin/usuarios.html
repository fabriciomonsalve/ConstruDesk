{% extends "layout.html" %}

{% block title %}Usuarios ¬∑ Kodesk{% endblock %}

{% block content %}
<section class="container mx-auto px-4 py-12">
  <!-- Header -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8 relative">
    <h2 class="text-2xl sm:text-3xl font-extrabold flex items-center gap-2">
      üßë‚Äçüíª Gesti√≥n de usuarios
    </h2>
    <a href="{{ url_for('admin.crear_usuario') }}" class="absolute top-1/2 transform -translate-y-1/2 right-0 mr-6 bg-red-600 text-white py-2 px-6 rounded-lg shadow-lg hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-500 active:bg-red-800 transition-all duration-300 ease-in-out">
      Crear Usuario
    </a>
  </div>

  <div class="grid sm:grid-cols-3 gap-6 mb-10">
    <div class="card p-5 shadow-soft ring-1 ring-slate-800/70 text-center">
      <p class="text-slate-400 text-sm">Total usuarios</p>
      <p class="text-3xl font-black text-[var(--brand-2)]">{{ usuarios|length }}</p>
    </div>  
  </div>

  <!-- Tabla de usuarios -->
  <div class="overflow-x-auto bg-white shadow-lg rounded-lg">
    <table class="min-w-full table-auto">
      <thead class="bg-[var(--brand)] text-black">  <!-- Cambi√© text-white a text-black -->
        <tr>
          <th class="px-6 py-3 text-left">Nombre</th>
          <th class="px-6 py-3 text-left">Correo electr√≥nico</th>
          <th class="px-6 py-3 text-left">Rol</th>
        </tr>
      </thead>
      <tbody class="text-sm text-slate-600">
        {% for usuario in usuarios %}
        <tr class="border-t hover:bg-slate-100">
          <td class="px-6 py-4">{{ usuario.nombre }}</td>
          <td class="px-6 py-4">{{ usuario.email }}</td>
          <td class="px-6 py-4">
            {% for role in usuario.roles %}
              {{ role.name }}{% if not loop.last %}, {% endif %}
            {% endfor %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endblock %}

